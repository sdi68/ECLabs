<?xml version="1.0" encoding="utf-8"?>
<!--
  ~ @package         Econsult Labs Library
  ~ @subpackage   Econsult Labs system plugin
  ~ @version           __DEPLOYMENT_VERSION__
  ~ @author            ECL <info@econsultlab.ru>
  ~ @link                 https://econsultlab.ru
  ~ @copyright      Copyright © 2025 ECL All Rights Reserved
  ~ @license           http://www.gnu.org/licenses/gpl-2.0.html GNU/GPL
  -->
<extension type="plugin" group="system" method="upgrade">
    <name>PLG_SYSTEM_ECLABS</name>
    <author>ECL</author>
    <creationDate>04.08.2025</creationDate>
    <copyright>Copyright © 2025 ECL. All rights reserved.</copyright>
    <license>GNU General Public License version 2 or later; see LICENSE.txt</license>
    <authorEmail>info@econsultlab.ru</authorEmail>
    <authorUrl>https://econsultlab.ru</authorUrl>
    <version>2.0.0</version>
    <description>PLG_SYSTEM_ECLABS_DESCRIPTION</description>
    <namespace path="src">Joomla\Plugin\System\ECLabs</namespace>
<!--    <ecltype>free</ecltype>-->
    <dlid prefix="download_key" ecltype = "free" suffix=""/>
    <!-- Scripts to run on installation -->
    <scriptfile>script.php</scriptfile>

    <languages folder="language">
        <language tag="ru-RU">ru-RU/plg_system_eclabs.ini</language>
        <language tag="ru-RU">ru-RU/plg_system_eclabs.sys.ini</language>
        <language tag="en-GB">en-GB/plg_system_eclabs.ini</language>
        <language tag="en-GB">en-GB/plg_system_eclabs.sys.ini</language>
    </languages>

    <media destination="plg_system_eclabs" folder="media">
        <folder>js</folder>
        <folder>images</folder>
        <folder>css</folder>
        <file>joomla.assets.json</file>
    </media>

    <layouts destination="plugins/system/eclabs" folder="layouts">
        <folder>authorize</folder>
    </layouts>

    <!-- Files -->
    <files>
        <folder plugin="eclabs">src</folder>
        <folder>services</folder>
    </files>

    <config>
        <fields name="params" addfieldprefix="ECLabs\Library\Form\Field">
            <fieldset name="basic">
                <field name="logging"
                       type="radio"
                       default="0"
                       class="btn-group"
                       label="PLG_SYSTEM_ECLABS_LOGGING_LABEL"
                       description="PLG_SYSTEM_ECLABS_LOGGING_DESC">
                    <option value="1">JYES</option>
                    <option value="0">JNO</option>
                </field>
                <field name="load_bootstrap"
                       type="radio"
                       default="0"
                       class="btn-group"
                       label="PLG_SYSTEM_ECLABS_LOAD_BOOTSTRAP_LABEL"
                       description="PLG_SYSTEM_ECLABS_LOAD_BOOTSTRAP_DESC">
                    <option value="1">JYES</option>
                    <option value="0">JNO</option>
                </field>
                <field name = "common_note"
                       type="note"
                       class="alert alert-info"
                       label = "PLG_SYSTEM_ECLABS_COMMON_NOTE_LABEL"
                       description = "PLG_SYSTEM_ECLABS_COMMON_NOTE_DESC"
                />
                <field
                        name="@about"
                        type="About"
                        this_xml_path = "/plugins/system/eclabs/eclabs.xml"
                        ext_page="/test"
                        ext_doc="/doc"
                        free_update = "true"
                />
            </fieldset>
        </fields>
    </config>
    <!-- Update servers -->
    <updateservers>
        <server type="extension" priority="1" name="ECLabs library: system plugin">
            https://econsultlab.ru/component/swjprojects/jupdate?element=plg_system_eclabs
        </server>
    </updateservers>
</extension>